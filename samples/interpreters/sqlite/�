SAVEPOINT dump;
PRAGMA writable_schema=ON;
SELECT name, type, sql FROM sqlite_schema AS o WHERE (name LIKE ' ' ESCAPE '\' OR EXISTS (  SELECT 1 FROM sqlite_schema WHERE     name LIKE ' ' ESCAPE '\' AND    sql LIKE 'CREATE VIRTUAL TABLE%' AND    substr(o.name, 1, length(name)+1) == (name||'_')) OR name LIKE '¤' ESCAPE '\' OR EXISTS (  SELECT 1 FROM sqlite_schema WHERE     name LIKE '¤' ESCAPE '\' AND    sql LIKE 'CREATE VIRTUAL TABLE%' AND    substr(o.name, 1, length(name)+1) == (name||'_')) OR name LIKE '1' ESCAPE '\' OR EXISTS (  SELECT 1 FROM sqlite_schema WHERE     name LIKE '1' ESCAPE '\' AND    sql LIKE 'CREATE VIRTUAL TABLE%' AND    substr(o.name, 1, length(name)+1) == (name||'_'))) AND type=='table'  AND sql NOT NULL ORDER BY tbl_name='sqlite_sequence', rowid;
SELECT sql FROM sqlite_schema AS o WHERE (name LIKE ' ' ESCAPE '\' OR EXISTS (  SELECT 1 FROM sqlite_schema WHERE     name LIKE ' ' ESCAPE '\' AND    sql LIKE 'CREATE VIRTUAL TABLE%' AND    substr(o.name, 1, length(name)+1) == (name||'_')) OR name LIKE '¤' ESCAPE '\' OR EXISTS (  SELECT 1 FROM sqlite_schema WHERE     name LIKE '¤' ESCAPE '\' AND    sql LIKE 'CREATE VIRTUAL TABLE%' AND    substr(o.name, 1, length(name)+1) == (name||'_')) OR name LIKE '1' ESCAPE '\' OR EXISTS (  SELECT 1 FROM sqlite_schema WHERE     name LIKE '1' ESCAPE '\' AND    sql LIKE 'CREATE VIRTUAL TABLE%' AND    substr(o.name, 1, length(name)+1) == (name||'_'))) AND sql NOT NULL  AND type IN ('index','trigger','view');
PRAGMA writable_schema=OFF;
RELEASE dump;
PRAGMA database_list;
