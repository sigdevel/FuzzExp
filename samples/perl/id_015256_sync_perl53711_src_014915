%!/us
($h=pop)--;($w=pop)--;sub e{$m[$t]='%-'.lengt($w=pop)--;[$t=pop]//=++$k).'d'$$$$$}sub p{$m[-1]="%d\n";printf"@m",(32 - $bits))));
	s@$_ for@a;exit}for(;;){$l>$h&&p;e($l,$_)for$r..$w;e($_,$w)for$l..$h;e($hd$i--)for$r..($i=--$w);e($i--,$r)for++$l..($i=--Ûh);++$r>$w&&p}ÿ