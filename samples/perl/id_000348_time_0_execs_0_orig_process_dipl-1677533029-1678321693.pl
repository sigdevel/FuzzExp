while ($line = <>) {
$line =~ s/[\n\r]+//g;
$strOneline .= "<line>" . $line ."</line>";
}
$strOneline =~ s/"/%/g;
$strOneline =~ s/(=\%[^\%_]*)_([^\%]*\%)/\1\@\2/g;
$strOneline =~ s/(=\%[^\%_]*)_([^\%]*\%)/\1\@\2/g;
$strOneline =~ s/(=\%[^\%_]*)_([^\%]*\%)/\1\@\2/g;
$strOneline =~ s/(=\%[^\%_]*)_([^\%]*\%)/\1\@\2/g;
$strOneline =~ s/(=\%[^\%_]*)_([^\%]*\%)/\1\@\2/g;
$strOneline =~ s/(=\%[^\%_]*)_([^\%]*\%)/\1\@\2/g;
$strOneline =~ s/(?!\|)_/|_/g;
$strOneline =~ s/([^_]+)_/<word word="\1">\1<\/word>/g;
$strOneline =~ s/(=\"[^\"]*)(<[^>]+>)/\1/g;
$strOneline =~ s/(=\"[^\"]*)(<[^>]+>)/\1/g;
$strOneline =~ s/(=\"[^\"]*)(<[^>]+>)/\1/g;
$strOneline =~ s/(=\"[^\"]*)(<[^>]+>)/\1/g;
$strOneline =~ s/(=\"[^\"]*)(<[^>]+>)/\1/g;
$strOneline =~ s/(=\"[^\"]*)(<[^>]+>)/\1/g;
$strOneline =~ s/(=\"[^\"]*)(<[^>]+>)/\1/g;
$strOneline =~ s/(=\"[^\"]*)(<[^>]+>)/\1/g;
$strOneline =~ s/(=\"[^\"]*)(<[^>]+>)/\1/g;
$strOneline =~ s/(=\"[^\"]*)(<[^>]+>)/\1/g;
$strOneline =~ s/(=\"[^\"]*)(<[^>]+>)/\1/g;
$strOneline =~ s/(=\"[^\"]*)(<[^>]+>)/\1/g;
$strOneline =~ s/(=\"[^\"]*)(<[^>]+>)/\1/g;
$strOneline =~ s/(=\"[^\"]*)(<[^>]+>)/\1/g;
$strOneline =~ s/(=\"[^\"]*)(<[^>]+>)/\1/g;
$strOneline =~ s/(=\"[^\"]*)(<[^>]+>)/\1/g;
$strOneline =~ s/(=\"[^\"]*)(<[^>]+>)/\1/g;
$strOneline =~ s/(=\"[^\"]*)(<[^>]+>)/\1/g;
$strOneline =~ s/(=\"[^\"]*)(<[^>]+>)/\1/g;
$strOneline =~ s/(=\"[^\"]*)(<[^>]+>)/\1/g;
$strOneline =~ s/(=\"[^\"]*)(<[^>]+>)/\1/g;
$strOneline =~ s/(=\"[^\"]*)(<[^>]+>)/\1/g;
$strOneline =~ s/(=\"[^\"]*)(<[^>]+>)/\1/g;
$strOneline =~ s/(=\"[^\"]*)(<[^>]+>)/\1/g;
$strOneline =~ s/(=\"[^\"]*)(<[^>]+>)/\1/g;
$strOneline =~ s/(=\"[^\"]*)(<[^>]+>)/\1/g;
$strOneline =~ s/(=\"[^\"]*)(<[^>]+>)/\1/g;
$strOneline =~ s/(=\"[^\"]*)(<[^>]+>)/\1/g;
$strOneline =~ s/(=\"[^\"]*)(<[^>]+>)/\1/g;
$strOneline =~ s/(=\"[^\"]*)(<[^>]+>)/\1/g;
$strOneline =~ s/(\|)(?=[^"<>]*")//g;
$strOneline =~ s/%/"/g;
$strOneline =~ s/"/%/g;
$strOneline =~ s/([^\|]+)\|/<morph morph="\1">\1<\/morph>/g;
$strOneline =~ s/(=\"[^\"]*)(<[^>]+>)/\1/g;
$strOneline =~ s/(=\"[^\"]*)(<[^>]+>)/\1/g;
$strOneline =~ s/(=\"[^\"]*)(<[^>]+>)/\1/g;
$strOneline =~ s/(=\"[^\"]*)(<[^>]+>)/\1/g;
$strOneline =~ s/(=\"[^\"]*)(<[^>]+>)/\1/g;
$strOneline =~ s/(=\"[^\"]*)(<[^>]+>)/\1/g;
$strOneline =~ s/(=\"[^\"]*)(<[^>]+>)/\1/g;
$strOneline =~ s/(=\"[^\"]*)(<[^>]+>)/\1/g;
$strOneline =~ s/(=\"[^\"]*)(<[^>]+>)/\1/g;
$strOneline =~ s/(=\"[^\"]*)(<[^>]+>)/\1/g;
$strOneline =~ s/(=\"[^\"]*)(<[^>]+>)/\1/g;
$strOneline =~ s/(=\"[^\"]*)(<[^>]+>)/\1/g;
$strOneline =~ s/(=\"[^\"]*)(<[^>]+>)/\1/g;
$strOneline =~ s/(=\"[^\"]*)(<[^>]+>)/\1/g;
$strOneline =~ s/(=\"[^\"]*)(<[^>]+>)/\1/g;
$strOneline =~ s/(=\"[^\"]*)(<[^>]+>)/\1/g;
$strOneline =~ s/(=\"[^\"]*)(<[^>]+>)/\1/g;
$strOneline =~ s/(=\"[^\"]*)(<[^>]+>)/\1/g;
$strOneline =~ s/(=\"[^\"]*)(<[^>]+>)/\1/g;
$strOneline =~ s/(=\"[^\"]*)(<[^>]+>)/\1/g;
$strOneline =~ s/(=\"[^\"]*)(<[^>]+>)/\1/g;
$strOneline =~ s/(=\"[^\"]*)(<[^>]+>)/\1/g;
$strOneline =~ s/(=\"[^\"]*)(<[^>]+>)/\1/g;
$strOneline =~ s/(=\"[^\"]*)(<[^>]+>)/\1/g;
$strOneline =~ s/(=\"[^\"]*)(<[^>]+>)/\1/g;
$strOneline =~ s/(=\"[^\"]*)(<[^>]+>)/\1/g;
$strOneline =~ s/(=\"[^\"]*)(<[^>]+>)/\1/g;
$strOneline =~ s/(=\"[^\"]*)(<[^>]+>)/\1/g;
$strOneline =~ s/(=\"[^\"]*)(<[^>]+>)/\1/g;
$strOneline =~ s/(=\"[^\"]*)(<[^>]+>)/\1/g;
$strOneline =~ s/%/"/g;
$strOneline =~ s/@/_/g;
$strOneline =~ s/>/>%%%N%%%/g;
$strOneline =~ s/</%%%N%%%</g;
$strOneline =~ s/^%%%N%%%//g;
$strOneline =~ s/(%%%N%%%)+/\n/g;
print $strOneline;
